<!DOCTYPE html>
<html>
  <head>
		<meta charset="utf-8" />
		<title>Readinglab</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

		<%= csrf_meta_tags %>
		<%= csp_meta_tag %>

		<%= favicon_link_tag("apple-touch-icon.png", rel: 'apple-touch-icon') %>
		<%= favicon_link_tag("favicon-32x32.png", rel: 'icon', type: 'image/png') %>
		<%= favicon_link_tag("favicon-16x16.png", rel: 'icon', type: 'image/png') %>

		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
			rel="stylesheet"
		/>
		
    <%= stylesheet_link_tag "application" %>

    <!-- Global site tag (gtag.js) - Google Analytics -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=G-GBZ3SGGX85"
		></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag("js", new Date());
			gtag("config", "G-GBZ3SGGX85");
		</script>

		<script>
			(function (w, d, s, l, i) {
				w[l] = w[l] || [];
				w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
				var f = d.getElementsByTagName(s)[0],
					j = d.createElement(s),
					dl = l != "dataLayer" ? "&l=" + l : "";
				j.async = true;
				j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
				f.parentNode.insertBefore(j, f);
			})(window, document, "script", "dataLayer", "GTM-NXZMQSS");
		</script>
  </head>

  <body>
    <%= render 'shared/loader' %>
    <%= render 'shared/header' %>
    <%= render 'shared/sidebar' %>
    <%= render 'shared/navbar' %>
    
    <div class="mobile-menu-overlay"></div>

    <div class="main-container">
      <%= yield %>
    </div>

    <%= render 'modals/welcome' %>

    <%= javascript_include_tag "core.min" %>
    <%= render 'shared/datatables_js' %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>

    <%#= javascript_include_tag params[:controller], "data-turbo-track": "reload", defer: true %>

    <%= javascript_include_tag "controllers/#{params[:controller]}" %>
    <%#= yield :javascript_includes %>

    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-NXZMQSS"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
  </body>
</html>
